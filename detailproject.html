<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<!-- Add Icon -->
		<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
		<!-- Add Font Awesome CDN -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha384-oS3vJWskMzL3UomHpC5L5S/Z9vI4AwaD5V3hN4rRsZZ8hmmVT+6Z3uEC0f5gHbX5" crossorigin="anonymous" />

		<link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
		<!-- Hapus Bootstrap 4.5.2 -->
		<!-- Hapus Bootstrap 5.0.2 karena sudah dimuat di bawah -->
		<link rel="stylesheet" href="assets/css/bootstrap.css" />
		<style>
			.body {
				background-color: #f8f9fa;
			}

			.container {
				max-width: 800px;
				margin: 50px auto;
			}

			.card {
				margin-bottom: 20px;
			}
		</style>
	</head>

	<body class="body">
		<!-- Memanggil navbar -->
		<nav id="navbar-container"></nav>

		<div id="projectDetails" class="container mt-5 mx-auto" style="width: 90%; max-width: 1000px">
			<!-- <h5 class="card-title text-center" id="detailProjectName"></h5>
			
			<div class="row card col-md-8 mx-auto">
				<div class="col-md-6">
					<img src="assets/img/ocean-1867285_1280.jpg" id="detailImageLink" class="card-img-top" alt="Card Image" />
				</div>
				<div class="col-md-6">
					<div class="card-body">
						<p class="card-text">
							<strong>Duration:</strong> <span id="detailDuration"></span><br />
							<strong>Technologies:</strong> <span id="detailTechnologies"></span><br />
							<strong>Description:</strong> <span id="detailDescription"></span>
						</p>
					</div>
				</div>
			</div> -->
		</div>

		<!-- Function panggil navbar -->
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.2/js/bootstrap.min.js"></script>

		<!-- Load navbar setelah Bootstrap dimuat -->
		<script>
			$(document).ready(function () {
				$('#navbar-container').load('navbar.html')
			})
		</script>
		<script>
			// Fetch and display project details
			function displayProjectDetails() {
				const projectId = getProjectIdFromUrl()

				// Fetch data from npoint.io or your API
				fetch('https://api.npoint.io/e1650423d649734d4f8a') // Replace 'your-endpoint' with your actual endpoint
					.then((response) => response.json())
					.then((projects) => {
						const project = projects[projectId - 1] // Assuming project IDs start from 1
						if (project) {
							const technologyIcons = project.technologies
								.map((tech) => {
									switch (tech) {
										case 'Node.Js':
											return '<i class="bx bxl-nodejs"></i>'
										case 'Python':
											return '<i class="bx bxl-python"></i>'
										case 'React.Js':
											return '<i class="bx bxl-react"></i>'
										case 'Typescript':
											return '<i class="bx bxl-typescript"></i>'
										// Add more cases for other technologies as needed
										default:
											return '' // Handle unknown technologies or add a default icon
									}
								})
								.join('')
							// Display project details on the page
							const projectDetailsContainer = document.getElementById('projectDetails')
							projectDetailsContainer.innerHTML = `
							<div class="card mb-3" style="width: 80%; margin: 20px auto; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
								<div class="card-body">
									<div class="row g-0">
										<!-- Left Section: Image -->
										<div class="col-md-6">
											<img src="${project.imageLink}" alt="Project Image" class="img-fluid" style="object-fit: cover; height: 100%;">
										</div>
										<!-- Right Section: Details -->
										<div class="col-md-6">
											<div class="card-body">
												<h5 class="card-title">${project.projectName}</h5>
												<!-- Duration and Technologies -->
												<p class="card-text">
													<small class="text-muted">Duration: ${project.duration}</small><br>
													<a href="#" style="font-size: 2em; color: black; margin-right: 10px; text-decoration: none;">
													Tech: ${technologyIcons}
													</a>
												</p>
											</div>
										</div>
									</div>
									<!-- Description -->
									<p class="card-text">${project.description}</p>
									<!-- Buttons for more actions -->
									<div class="d-flex justify-content-center">
										<button class="btn btn-danger btn-sm" onclick="deleteProject(${project.id})">Delete</button>
										<a href="project.html" class="btn btn-secondary btn-sm">Back</a>
									</div>
								</div>
							</div>


                `
						} else {
							console.error('Project not found.')
						}
					})
					.catch((error) => console.error('Error fetching data:', error))
			}

			// Function to get project ID from the URL query parameter
			function getProjectIdFromUrl() {
				const urlParams = new URLSearchParams(window.location.search)
				return parseInt(urlParams.get('projectId')) || 1 // Default to project ID 1 if not found
			}

			// Call the function to display project details
			displayProjectDetails()
		</script>
	</body>
</html>
